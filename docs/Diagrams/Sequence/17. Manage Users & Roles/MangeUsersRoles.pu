@startuml
title UC-17 Manage Users & Roles (Sequence)
participant Admin
participant WebApp
participant AuthService
participant DB
participant AuditService
participant NotificationService
participant User

Admin -> WebApp: open user management -> select user -> change roles/status
WebApp -> AuthService: updateUserRoles(userId, roles)
AuthService -> DB: update user_role join table
DB --> AuthService: updated
AuthService -> AuditService: recordAction(adminId, action, targetUser)
AuditService -> DB: INSERT audit log
AuditService --> WebApp: ack
AuthService -> NotificationService: notifyUserRoleChange(userId)
NotificationService --> User: in-app/email
WebApp --> Admin: show confirmation
@enduml
